var ucfChartMediaUpload=function(o){function e(e){var a=!1;if(e.preventDefault(),a=!!o(e.target).hasClass("data-json-upload")){if(d)return void d.open()}else if(i)return void i.open();var n={title:t,button:{text:"Use this JSON File"},library:{type:"application/json"},multiple:!1},t=a?"Select or upload the json data for this chart.":"Select or upload the json options for this chart.";a?((d=wp.media(n)).on("select",function(){var e=d.state().get("selection").first().toJSON();f.removeClass("hidden"),l.val(e.id),r.text(e.filename),s.addClass("hidden"),c.removeClass("hidden")}),d.open()):((i=wp.media(n)).on("select",function(){var e=i.state().get("selection").first().toJSON();v.removeClass("hidden"),p.val(e.id),u.text(e.filename),h.addClass("hidden"),m.removeClass("hidden")}),i.open())}function a(e){e.preventDefault(),o(e.target).hasClass("data-json-remove")?(f.addClass("hidden"),s.removeClass("hidden"),c.addClass("hidden"),l.val(""),r.text("")):(v.addClass("hidden"),h.removeClass("hidden"),m.addClass("hidden"),p.val(""),u.text(""))}var d,i,n=o("#ucf_chart_metabox"),s=n.find(".data-json-upload"),l=n.find("#ucf_chart_data_json"),r=n.find(".ucf_chart_data_json_filename"),f=n.find(".data-json-preview"),c=n.find(".data-json-remove"),h=n.find(".options-json-upload"),p=n.find("#ucf_chart_options_json"),u=n.find(".ucf_chart_options_json_filename"),v=n.find(".options-json-preview"),m=n.find(".options-json-remove");s.on("click",e),c.on("click",a),h.on("click",e),m.on("click",a)};"undefined"!=typeof jQuery&&jQuery(document).ready(function(e){ucfChartMediaUpload(e)});